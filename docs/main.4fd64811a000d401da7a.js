(()=>{"use strict";var e={662:(e,t,o)=>{o.d(t,{j:()=>m});class a{static fromJson({id:e,tarea:t,completado:o,creado:s}){const r=new a(t);return r.id=e,r.tarea=t,r.completado=o,r.creado=s,r}constructor(e){this.tarea=e,this.id=(new Date).getTime(),this.completado=!1,this.creado=new Date}imprimirClase(){console.log(`${this.tarea} - ${this.id}`)}}const s=document,r=s.querySelector(".todo-list"),l=s.querySelector(".new-todo"),i=s.querySelector(".clear-completed"),c=s.querySelector(".filters"),n=s.querySelectorAll(".filtro"),d=e=>{const t=`\n    \n    <li class="${e.completado?"completed":""}" data-id="${e.id}">\n        <div class="view">\n            <input class="toggle" type="checkbox" ${e.completado?"checked":""}>\n            <label>${e.tarea}</label>\n            <button class="destroy"></button>\n        </div>\n        <input class="edit" value="Create a TodoMVC template">\n    </li>`,o=s.createElement("div");return o.innerHTML=t,r.append(o.firstElementChild),o.firstElementChild};l.addEventListener("keyup",(e=>{if(13===e.keyCode&&l.value.length>0){const e=new a(l.value);m.nuevoToDo(e),d(e),l.value=""}})),r.addEventListener("click",(e=>{const t=e.target.localName,o=e.target.parentElement.parentElement,a=o.getAttribute("data-id");t.includes("input")?(m.marcarCompletado(a),o.classList.toggle("completed")):t.includes("button")&&(m.eliminarToDo(a),r.removeChild(o))})),i.addEventListener("click",(()=>{m.eliminarCompletados();for(let e=r.children.length-1;e>=0;e--){const t=r.children[e];t.classList.contains("completed")&&r.removeChild(t)}})),c.addEventListener("click",(e=>{const t=e.target.text;if(t){n.forEach((e=>e.classList.remove("selected"))),e.target.classList.add("selected");for(const e of r.children){e.classList.remove("hidden");const o=e.classList.contains("completed");switch(t){case"Pendientes":o&&e.classList.add("hidden");break;case"Completados":o||e.classList.add("hidden")}}}}));const m=new class{constructor(){this.cargarLocalStorage()}nuevoToDo(e){this.toDos.push(e),this.guardarLocalStorage()}eliminarToDo(e){this.toDos=this.toDos.filter((t=>t.id!=e)),this.guardarLocalStorage()}marcarCompletado(e){for(const t of this.toDos)if(t.id==e){t.completado=!t.completado,this.guardarLocalStorage();break}}eliminarCompletados(){this.toDos=this.toDos.filter((e=>!e.completado)),this.guardarLocalStorage()}guardarLocalStorage(){localStorage.setItem("toDo",JSON.stringify(this.toDos))}cargarLocalStorage(){this.toDos=localStorage.getItem("toDo")?JSON.parse(localStorage.getItem("toDo")):[],this.toDos=this.toDos.map(a.fromJson)}};m.toDos.forEach(d),console.log("toDos papu: ",m.toDos)}},t={};function o(a){if(t[a])return t[a].exports;var s=t[a]={exports:{}};return e[a](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(662)})();